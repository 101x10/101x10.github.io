[{"title":"mdbook软件用法","path":"/2023/10/15/tools/2023-10-15-mdbook/","content":"windows系统下安装mdbook软件 下载mdbook软件 下载地址：https://github.com/rust-lang/mdBook/releases/download/v0.4.35/mdbook-v0.4.35-x86_64-pc-windows-msvc.zip 直接解压 添加到到环境变量 mdbook使用说明初始化一本书1mdbook init C++_book 进入到 C++_book 目录下, 目录结构如下 123456789101112PS D:\\blog\\mdbook_blog\\C++_book&gt; ls 目录: D:\\blog\\mdbook_blog\\C++_bookMode LastWriteTime Length Name---- ------------- ------ ----d----- 2023/10/15 8:53 bookd----- 2023/10/15 8:53 src-a---- 2023/10/15 8:53 5 .gitignore-a---- 2023/10/15 8:53 110 book.toml 预览12345cd C++_bookmdbook serve --open 即可查看效果 部署到 github1mdbook build 使用该命令在当前目录下生成book目录，book目录中的内容就是生成的创建的书的内容 把 book 中的内容部署到 github 上，就可以通过 https://xxx.github.io\\C++_book 进行访问了， 部署到 github 上的操作如下： 步骤1: github上创建C++_book的repo 然后 clone 到本地 12git clone git@github.com:101x10/cpp_book.git 新建一个 readmd.md 文件，按如下步骤上传 123git add readmd.mdgit commit -m &quot;add readme.md file&quot;git push -u origin main 注：如果不进行以上操作，默认git clone的仓是空的，没有main分支，无法进行其他操作 创建 gh-pages 分析， 并把通过 mdbook build 生成的book目录的所有内容拷贝到 gh-pages 分支目录下，并 git push到C++_book仓中即可。 12345678git branch gh-pagesgit checkout gh-pagesgit branch -acp ..\\book\\* .git add .git commit -m &quot;commit book contents to gh-pages branch&quot;git push -u origin gh-pages 这样操作完成后，即可通过 https://xxx.github.io\\cpp_book 访问了 后续，如果 book 目录内容有更新， 重新拷贝一次，并git push到gh-pages分支即可完成更新。 参考 mdBook Documentation rust-lang&#x2F;mdBook","tags":["ofdm"],"categories":["tools"]},{"title":"IEEE 802.11 DCF机制","path":"/2023/07/27/2023-07-27_80211_dcf/","content":"DCF: distributed Coordination Function的缩写， 分布式协调功能。 参考 DCF scheme","tags":["Wi-Fi","802.11","DCF"],"categories":["Wi-Fi"]},{"title":"OFDM基本概念","path":"/2023/07/26/ofdm/2023-07-26_ofdm_basic_principle/","content":"注意 以下内容翻译自（稍加修改）: Concepts of Orthogonal Frequency Division Multiplexing (OFDM) and 802.11 WLAN 主要内容 介绍 OFDM 技术基本概念 介绍 IEEE 802.11a 协议中 OFDM 的实现 OFDM 基本概念OFDM: orthogonal Frequency Division Multiplexing的缩写，正交频分复用的意思。一种数字多载波调制方案。 相对于单载波调制， 多载波指的是在同一信道下，有多个载波，且相互之间是正交的。 各个子载波使用传统的数字调制方案(像 QPSK, 16QAM, 等等）进行调制。 OFDM是基于众所周知的 FDM(Fequency Division Multiplexing，频分复用) 技术。在FDM中，不同的信息流映射到各个并行的频率信道上，各个FDM信道之间通过频率保护带进行隔离，以降低邻信道之间的干扰。 OFDM 方案与传统的FDM方案有如下几方面的差异： 多个载波（称为子载波）承载信息流 子载波之间相关正交 每个符号都有一个保护间隔，以尽量减少信道延迟扩散和符号间干扰 下图说明了 OFDM 信号的主要概念，以及频域和时域之间的相互关系， 发送端： 在频域，多个相邻单音或子载波单独对复数数据进行调制， 然后使用 IFFT (逆傅里叶变换) 对频域子载波进行转换，产生时域 OFDM 符号。 然后在时域，各个 OFDM 符号之间插入保护间隔(guard intervals)，防止 由于空口传输时多径延时扩散 导致 在接收端存在 符号间干扰 多个 OFDM 符号连接在一起，形成最终的 OFDM 信号 接收端： 对 OFDM 符号进行FFT变换来恢复原始的bit数据 OFDM 系统理解使用模拟信号实现简单的模拟 OFDM 系统我们将基于模拟信号的方式实现OFDM系统来展示产生一个OFDM信号的基本原理，如下图所示 在该OFDM系统中，有 N 个正弦输入信号，各个子载波传输 1 bit 的信号（共 N bits），在输出频谱上通过对应的bit存在或不存在指示。选择的各个子载波的频率正交以形成一个正交信号集。 这些正交的频率在接收端也是已知的用于信号恢复。 注意输出信号以形成符号周期的周期间隔 T 更新，为了保持正交性， T 必须是子载波间隔的倒数（WHY？？？）。 理解正交性 —— 正交的间隔子载波的重要性？OFDM 信号可以描述为一组紧密间隔的 FDM 子载波。在频域中，每个传输的子载波都会产生带有旁瓣的 sinc 函数频谱，该旁瓣会在子载波之间产生重叠频谱，请参见下图 “OFDM 信号频谱”。这会导致子载波干扰（正交间隔频率除外）。在正交频率下，子载波的各个峰值都与其他子载波的零点对齐。这种频谱能量的重叠不会干扰系统恢复原始信号的能力。接收端将输入信号乘以（即相关）已知的正弦信号集，以恢复发送的原始比特。 正交子载波的使用让每个带宽有更多的子载波，从而提高频谱效率。在完美的 OFDM 信号中，正交性可以防止重叠载波之间的干扰。在 FDM 系统中，相邻信号频谱的任何重叠都会导致干扰。在 OFDM 系统中，只有在子载波之间失去正交性的情况下，子载波才会相互干扰。例如，频率误差将导致子载波频率偏移，从而频谱零点将不再对齐，从而导致子载波间干扰。 使用 FFT 变换实现简单数字 OFDM 系统通过结合使用快速傅里叶变换 (FFT) 和快速傅里叶逆变换 (IFFT) 数字信号处理，可以将简单模拟 OFDM 实现中使用的概念扩展到数字域。从 OFDM 的角度来看，这些变换非常重要，因为它们可以被视为将数字调制的输入数据（数据符号）映射到正交子载波上。原则上，IFFT 获取频域输入数据（代表调制子载波的复数）并将其转换为时域输出数据（模拟 OFDM 符号波形）。 在数字实现的 OFDM 系统中，输入比特流被分组并映射到源数据符号，这些源数据符号是表示调制星座点的复数（例如，出现在单个子载波系统中的 BPSK 或 QAM 符号）。这些复数的源符号在发送端被视为频域中的符号，并且输入到 IFFT 模块变换到时域。 IFFT 每次接收 N 个源符号，其中 N 是系统中子载波的数量。这 N 个输入符号中的每一个都有 T 秒的符号周期。回想一下，IFFT 的输出是 N 个正交正弦信号。这些正交正弦信号各自具有不同的频率，最低的频率是直流（DC）。 输入符号是表示映射到星座点的复数值，因此指定该子载波的正弦信号的幅度和相位。 IFFT 输出是所有 N 个正弦信号的总和。因此，IFFT 模块提供了一种将数据调制到 N 个正交子载波上的简单方法。 IFFT 的 N 个输出样本块构成单个 OFDM 符号。 经过一些额外的处理后，IFFT 产生的时域信号通过无线电信道进行传输。在接收端，FFT 模块用于处理接收到的信号并将其转换为频域，用于恢复原始数据。 简单的 IEEE 802.11a协议 OFDM 信号实现802.11a OFDM 载波信号（busrt类型）是一个或多个 OFDM 符号的总和，每个符号由 52 个正交子载波组成，每个子载波上的基带数据使用正交幅度调制（可用格式：BPSK、QPSK、16-QAM 或 64-QAM）进行独立调制。该合成的基带信号用于调制到主RF载波上。 在开始构建 OFDM 信号前，输入数据比特流先进行卷积编码和交织。各数据流被分为 “n” bits的组（1 bit-BPSK, 2 bits-QPSK、4 bits-16QAM 或 6 bits-64QAM），并转换为表示映射星座点的复数（I+jQ）。请注意，比特速率会根据调制格式而有所不同，64-QAM 星座（一次 6 bits）的比特速率可以为 54 Mbps，而 QPSK 星座（一次 2 bit）的比特速率可能仅为 12 Mbps 。 然后加载 IFFT 模块的 52 个 bin。 48 个 bin 包含星座点，这些星座点被映射到范围从 -26 到 +26 的频率偏移索引，跳过 4 个导频和零 bin。频率偏移索引位置 -21、-7、+7 和 +21 索引位置插入了4个导频子载波。零 bin 是 Null 或 DC 子载波，不被使用；它包含一个 0 值 (0+j0)。 整个处理流程如下图所示 当 IFFT 块完全加载时，将计算逆 FFT，给出一组代表组合 OFDM 子载波波形的复数时域样本。样本以 20Msps 的时钟输出，创建 3.2us (20Msps&#x2F;64) duration的 OFDM 波形。为了完成 OFDM 符号，将 0.8us duration的保护间隔 (GI) 添加到 OFDM 波形的开头。这会产生一个持续时间为 4us 的”单个”OFDM 符号（3.2us + 0.8us）。重复该过程为剩余的输入数据bit流创建其他的 OFDM 符号。 为了完成 OFDM 帧结构，单个 OFDM 符号被连接在一起，然后附加到 16us Preamble（用于同步）和 4us SIGNAL符号（提供速率和长度信息）。这样就完成了 OFDM 帧，并准备好作为 OFDM busrt进行传输。 参考 Concepts of Orthogonal Frequency Division Multiplexing (OFDM) and 802.11 WLAN A Beginner’s Guide to OFDM 802.11 OFDM Overview OFDM overview - sharetechnote 无线通信基础2：深入理解OFDM（含Matlab代码） OFDM-功率谱密度的Matlab实现 第7章：OFDM中的fftshift和ifft IEEE802.11a OFDM MATLAB仿真","tags":["Wi-Fi","802.11","ofdm"],"categories":["Wi-Fi"]},{"title":"IEEE 802.11 帧格式","path":"/2023/07/26/2023-07-26_80211_frame_format/","content":"基于协议第9章，详述帧格式 一般要求 STA需要支持本章节介绍的帧子集的收发， 对于特定的某些帧子集，在特定STA支持的功能时才需要支持这些特定帧子集的收发。 STA需要支持FCS校验， STA需要支持从所有帧的mac头中解析某些字段 STA只能使用本章节介绍的帧格式进行帧收发 MAC帧格式基本组成每个MAC帧都如下三部分组成： MAC头， 包括 frame control duration address optional sequence control information optional QoS Control information (QoS Data Frame才包含该字段) optional HT Control字段 (+HTC帧才包含该字段) 帧体， 长度可变， 包含特定于 帧 类型(type)和子类型(subtype)的信息 FCS, 包含基于 ITU-T Recommendation V.42的一个32-bit的CRC 通用MAC帧格式MAC帧格式包括一组在所有帧中以固定顺序出现的字段，下图描述了协议版本0（PV0）MPDU的通用MAC帧格式 对于每一PV0 MPDU，至少包含如下字段 Frame Control Duration&#x2F;ID Address 1 FCS 以下字段只存在某些PV0 MPDU帧中 Address 2 Address 3 Sequence Control Address 4 QoS Control HT Control and Frame Body 帧字段Frame Control字段该字段结构如下图所示","tags":["Wi-Fi","frame format","802.11"],"categories":["Wi-Fi"]},{"title":"IEEE 802.11 节能机制","path":"/2023/07/25/2023-07-25_80211_power_save/","content":"IEEE 802.11 设备功耗分析IEEE 802.11 设备一般有4种工作状态： sleep（休眠模式）：STA同时关闭发送和接收模块进入睡眠模式， 此时功耗最低 rx idle（接收空闲状态）：STA指进行信道忙闲监听，不接收数据帧 rx（接收状态）：STA监听到数据帧并接收 tx（发送状态）：STA发送数据到空口 Rx Idle状态，Rx状态和Tx状态的关系，以及状态之间的转换（结合发送&#x2F;接收过程）如下所述： STA首先执行CCA，来监听信道中有没有数据帧（主要是ED和CS两个过程），这个过程即是Rx Idle状态， 此时Rx Idle状态下面可以转移至Rx状态，也可以转移至Tx状态。 若STA在监听信道过程中，发现有802.11的数据帧，那么其就转移至Rx状态进行接收。 若STA有数据需要发送，且在持续监听信道的过程中（即backoff过程中），发现信道是空闲的，那么其就转移至Tx状态进行发送。 从工作原理上来看，rx idle状态和rx状态基本上是一致的，除了上层对数据帧的处理，整个RF的rx通路（LNA，VGA，LPF，ADC等）都是打开的，而RF的功耗是比较大的。 参考《AR5213_Data_Sheet_0704》中第10.1.5 Power Consumption节，一般wifi芯片中四种工作状态下的功耗情况 Operating Mode 1.8 V Supply 3.3 V Supply Unit sleep 6 0.4 mA rx idle 115 17 mA rx 122 17 mA tx 70 28 mA 从上表可以看出来，处于sleep状态时，Wi-Fi芯片的功耗是最低的，因此，在802.11协议设计中，需要引入sleep休眠状态以代替rx idle状态，达到节能的目的，进而扩展成了休眠模式下的工作机制 节能机制分析按照之前我们的叙述，在802.11中功耗最大的部分是在Rx Idle状态。如果能够减少Rx Idle状态的持续时间，那么节点就可以节能了。在本章节讨论中，由于不讨论具体的MAC机制，所以我们简单假设一个拓扑，该拓扑仅包含一个AP和一个节点。节点上行发送都是发往AP的，下行是AP发往节点的。故从节点的角度而言，执行Rx Idle的目的则有两种可能性： 如果节点是为了发送数据，那么Rx Idle是用来监听信道的，从而如果没有数据发送，那么就不进行监听，从而就可以减少Rx Idle的持续时间了，这个还是很容易做到的。如果节点是为了接收数据，那么Rx Idle则一定需要长时间持续进行。因为作为接收方，节点无法知道AP什么时候发送给自己的下行数据，所以要不断的监听信道，保持Rx Idle状态，对于每一个数据包都不能漏。由于节点无法控制AP，所以这一块是比较难做到的。所以在802.11中就提供了一种被动请求机制，其主要就是提供了一种机制，让节点可以控制AP，让其发送对应的下行帧给自己。故在节能模式下，802.11协议中就引入了两个机制： 缓存机制：这里缓存的主要是AP发往节点的数据。当AP从外网接收到要转发给节点的数据后，会将以MSDU的形式（即MAC层的数据帧）进行缓存（这里仅仅对工作在节能模式下的节点数据进行缓存），并不直接发送给节点。PS-Poll机制：若节点想要获取下行数据，那么节点需要主动跟AP请求数据，该请求帧就是PS-Poll帧。AP接收到该帧后，会检查缓存区是否有对应该节点的缓存，如果有就会从缓存区中调出对应该节点的缓存数据，并进行下发，如果没有则反馈一个NULL帧（既空数据）。有的书中，也将这个请求机制比较形象的描述为“兵乓”机制。 大致交互过程如下图所示（流程已简化）： 首先STA告知AP进入节能模式， 那么当AP知道对应的STA节点工作在节能模式时，则把发送给该STA节点的数据进行缓存。 当工作在节能模式的节点wake-up后， 知道关联的AP处有缓存其对应的数据帧时，则先进行空口竞争，竞争到空口后发送PS-Poll帧向AP请求下行数据帧。 AP收到STA的PS-Poll帧后，则在缓存区里面找该STA节点的缓存数据。当找到对应数据帧后，通过Frame进行反馈，这里可以看到上图标注了一个Frame_Ctrl_moreData的描述，该字段用来指示AP处是否还有该STA缓存的数据帧。 如果节点识别到该more data字段为1后，则知道AP中还有自己的缓存数据，那么会再次发送PS-Poll帧进行请求。 直到AP反馈的Frame中的more data字段为0，那么节点就不会继续反馈PS-Poll帧。该轮的数据请求就结束了，从而STA重新进入sleep模式进行省电。 缓存机制分析&#x2F;&#x2F; TODO 功耗管理协议分析从 IEEE 802.11 协议工作机制来看， 如果一直处于工作状态下， 功耗还是比较大的，尤其对于移动设备（手机，平板等）是电池供电，电量有限。 因此， 在 IEEE 802.11 协议中设计了相应的功耗管理机制（协议11.2节），即节能模式。 当STA改变了功耗管理模式时，需要通过发送帧的Frame Control字段中Power Management位通知AP。如下图所示 当STA处于节能模式时，AP不能随意给处于节能模式的STA发送MSDU帧，而应先缓存MSDU帧，并仅在指定的时间内发送 当AP缓存了STA的MSDU帧时，AP通过Beacon帧中包含的 TIM(Traffic Indication map， 流量指示图)元素来指示 STA接收Beacon帧并解析其中的TIM元素来确认关联的AP处是否缓存了MSDU 处于省电模式(Power Save，一般缩写为PS）的 STA 应周期性侦听Beacon帧，侦听周期由MLME-Power-Mgt.request原语中的ListenInterval和ReceiveDTIMs参数来决定 传统节能机制IEEE 802.11 协议中定义的初始节能方式，对基础BSS和 IBSS 下的节能机制分别进行了描述。 info802.11的节能模式基本思想是： AP缓存下行(AP-&gt;STA, 称之为下行）数据，只有当STA节点休眠结束后主动向AP请求，AP才进行下行数据的发送。 这里存在如下问题：STA节点怎么知道AP上有没有自己的缓存数据? AP周期性向对应的STA节点其广播缓存区情况，STA节点周期性醒来解析广播信息，就可以知道自己是否被数据缓存了。若有数据缓存，则STA节点就会进行数据请求，反之继续休眠。 基于以上节能思想， AP侧需要解决如下两个问题： 问题1：AP 如何通过广播方式通知STA对应的缓存信息？ 问题2：AP 何时广播对应STA节点的缓存信息？ U-APSDWMM-Power Save(WMM-PS)的节能机制 PSMPPower Save Multi-Poll (缩写PSMP)，有两种方式： Scheduled PSMP（S-PSMP） Unscheduled PSMP（U-PSMP) 不过最新协议已废弃PSMP，此处不详细说明 warningIEEE 80211-2020版本的协议中说明： PSMP机制已废弃， 后续的标准中可能会删除PSMP机制的说明 SMPSSpatial Multiplexing Power Save（缩写SMPS） 又被称为MIMO PS方法，与MIMO传输有关。 参考 802.11协议精读9：初探节能模式（PS mode）与缓存机制 802.11协议精读10：节能模式（PSM） 802.11协议精读11：节能模式（APSD，PSMP，SM Power Save） 802.11协议精读23：再论APSD节能模式 802.11协议精读37：三论APSD节能模式 802.11协议精读43：再论SM Power Save（SMPS） Wi-Fi 6(802.11ax)解析18：TWT节能机制（Target Wake Time） Wi-Fi 6(802.11ax)解析19：再论802.11ax中的节能机制 Power Save Multi-Poll (PSMP) Understanding Spatial Multiplexing Power Save (SMPS) Method for Wi-Fi Power Management","tags":["Wi-Fi","802.11","powersave"],"categories":["Wi-Fi"]},{"title":"IEEE 802.11 MAC层功能介绍","path":"/2023/07/24/2023-07-24_80211_mac_sublayer_function_description/","content":"概述 MAC子层架构（协议10.2&#x2F;10.3&#x2F;10.23&#x2F;10.24），包括 DCF HCF MCF 以及它们共存形式 分片和去分片（协议10.4&#x2F;10.5） 多速率支持（协议10.6） MSDU重排序或者丢弃处理的附加限制（协议10.7） 跨管制域操作（协议10.22） 块确认（BA）机制（协议10.25） No Ack机制（协议10.26） 保护机制（协议10.27） MAC帧处理规则（协议10.28） 本节介绍 MAC 子层架构 MAC 子层架构MAC 层架构如下图所示 对于non-DMG，non-CMMG和non-SIG STA： MAC通过使用DCF服务来提供HCF和MCF服务，MAC同时也提供直接访问DCF服务 HCF只存在QoS STA中 MCF只存在mesh STA中 note DMG: directional multi-gigabit的缩写，指工作的频率大于45GHz的操作，一般指80211ad协议定义的操作 non-DMG: 非DMG CMMG: China millimeter-wave multi-gigabit的缩写，指工作的频率在42.3GHz~47.3GHz范围或者47.2GHz~48.4GHz的操作 non-CMMG: 非CMMG S1G: Sub 1 GHz的缩写，指工作频率小于1GHz的操作 non-S1G: 非S1G 名词解释 MAC变量（MAC variables）：MAC维护的信息，存储在本地变量中，该变量被称之为MAC变量。 状态变量（State variables）：保存状态信息的MAC变量，称之为状态变量。 DCFDistribute Coordinate Function的缩写， 分布式协调功能。 MAC使用的基本接入方式是被称为载波监听&#x2F;冲突避免（CSMA&#x2F;CA）的DCF。 注意： 所有的STA都需要实现DCF功能 HCFHybrid Coordination Function的缩写，混合协调功能。 HCF仅在QoS网络中使用， 注意: 所有的QoS STA (除了mesh STA）都需要实现HCF功能 HCF通过结合DCF功能和一些增强的，特定于QoS机制，以允许使用统一的一套帧交换序列用于QoS STA数据传输。 HCF使用基于竞争的信道接入方式（称为增加分布式信道接入（EDCA）机制）进行先竞争空口然后数据传输。同时使用受控的信道接入（也称为HCF受控信道接入（HCCA)机制）进行免竞争数据传输。 STA可以通过EDCA或者HCCA方式获取到TXOP， 若STA通过EDCA竞争方式获取到的TXOP，称之为EDCA TXOP若是通过HCCA方式获取到的TXOP，称之为HCCA TXOP MAC层功能实现 组帧 管理帧(probe req&#x2F;probe resp&#x2F;auth req&#x2F;auth resp&#x2F;assoc req&#x2F;assoc&#x2F;resp&#x2F; 等) 控制帧(ACK&#x2F;BA&#x2F;RTS&#x2F;CTS&#x2F;CF_END 等) 帧格式转换 发送：802.3格式以太网数据帧转换为802.11格式数据帧 接收：802.11格式数据帧转换为802.3格式以太网数据帧 空口竞争机制 DCF EDCA HCCA 加密&amp;解密 FCS校验 A-MSDU聚合 A-MPDU聚合 BA确认 分片&amp;解分片","tags":["wlan","Wi-Fi","802.11"],"categories":["Wi-Fi"]},{"title":"Wi-Fi芯片架构介绍","path":"/2023/07/23/2023-07-23_Wi-Fi_chip_arch_intro/","content":"Wi-Fi芯片架构介绍Wi-Fi芯片是基于 IEEE 802.11 协议实现的， 根据 802.11 协议内容，定义了网络协议栈中的MAC层和PHY层的功能， 因此Wi-Fi芯片也是分为MAC层和PHY层，以及MAC和PHY之间的接口。 Wi-Fi芯片的整体框图如下所示 MCU: 一般使用ARM Cortex-M或者Cortex-R CPU核，还有就是开源的RISC-V架构CPU核， 用来运行嵌入式Firmware软件。 TCM: Tightly Coupled Memory的缩写，低延时的memory， 又分 ITCM：存储代码段。 DTCM：存储数据段。 RAM: 软件运行所需要的存储空间。 MAC: 实现 IEEE 802.11 协议中定义的MAC层功能，MAC层功能有分为 软件实现部分， 硬件实现部分， 一般是对时序有严格要求（如SIFS时间内要回复ACK帧之类）特性，或者是降低软件操作的MIPS等（比如加解密&#x2F;AMPDU聚合等）需要通过硬件实现。 PHY: 主要实现编解码, 调制&#x2F;解调等功能。 ABB：模拟基带模块，分为如下两部分 ADC: 模数转换，把模拟基带信号转换为数字基带信号。 DAC: 数模转换，把数字基带信号转换为模拟基带信号。 RF: 射频模块，主要是完成基带信号与高频信号之间的转换。 电源单元：Wi-Fi芯片内部对各模块进行供电。 时钟单元：Wi-Fi芯片内部给各模块提供工作时钟。 总线：用于和主控CPU之间的数据传输通道和配置通道，常见的总线接口有 PCIe USB AXI SDIO 参考 TCM interfaces","tags":["wlan","Wi-Fi"],"categories":["Wi-Fi"]},{"title":"无线路由器框图介绍","path":"/2023/07/23/2023-07-23_wireless-router_arch_intro/","content":"当前家用无线路由器的典型框图如下图所示 无线路由器完成的主要功能： 下行：完成以太网口报文到无线报文的转发 上行：完成 Wi-Fi 无线报文到以太网有线报文的转发 为此，对于整个无线路由器涉及如下模块： 以太网芯片： 有线口数据收发 WLAN芯片：无线口数据收发 主控CPU：对外围芯片的控制，协议栈报文的处理和转发 内存：数据报文的缓存，软件运行使用等 晶振：提供时钟 电源模块：单板供电 以下重点对WLAN芯片进行介绍 WLAN: Wireless LAN的缩写， 无线局域网的意思， 目前主流的WLAN芯片是基于IEEE 802.11协议实现的。因此，狭义的WLAN芯片也就指基于IEEE 802.11协议的芯片。 同时， 对于基于IEEE 802.11协议实现的WLAN芯片， 需要进行Wi-Fi认证， Wi-Fi是Wi-Fi联盟的商标，因此有时也称WLAN芯片为Wi-Fi芯片。 总结一句话：WLAN芯片和Wi-Fi芯片，指的都是基于IEEE 802.11协议实现的无线局域网芯片，只是又多种叫法而已。 因此， 想要深入了解Wi-Fi芯片的工作原理，首先对IEEE 802.11协议需要有个深入地学习， 所有的Wi-Fi芯片的实现都要遵循IEEE 802.11协议，否则不同厂家的Wi-Fi之间的通信可能会存在兼容性问题。 IEEE 802.11协议简介 最新的协议是 IEEE 802.11be (Wi-Fi 7)，当前主流芯片是基于 IEEE 802.11ax (Wi-Fi 6)。 先理一下 IEEE 802.11 协议的发展， 从 1997 年开始发布的第一版802.11协议开始，到当前（2023年）的802.11be, 25年左右的时间中，IEEE 802.11工作组（WG)基于高吞吐、低延时、安全等方面提供了各种协议。 具体可以参考IEEE网站：https://www.ieee802.org/11/，其中11b&#x2F;g&#x2F;a&#x2F;n&#x2F;ac&#x2F;ax协议是主要的关键协议, 大概发布的时间以及主要特性功能点如下表所示 协议 发布时间 主要功能点 802.11 1997 第一版协议, 1M ~ 2M 速率 802.11 b 1999 支持 1M~11M 速率 802.11 a 1999 802.11 g 2003 802.11 n 2009 802.11 ac 2013 802.11 ax 2019 802.11 be 2024?","tags":["wlan"],"categories":["wlan"]},{"title":"Hello World","path":"/2023/07/23/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":["Hexo"],"categories":["Hexo"]},{"path":"/about/index.html","content":"文章项目便笺 个人简介 大道至简，知行合一本站是@101x10的个人站，博主目前主要从事于Wi-Fi芯片行业软件开发岗，喜欢研究各种新技术，欢迎大家一起交流分享 音乐游戏技术话题&#x2F;&#x2F; TODO: 音乐&#x2F;&#x2F; TODO: 游戏&#x2F;&#x2F; TODO: 技术&#x2F;&#x2F; TODO: 话题 近期开源日程 &#x2F;&#x2F; TODO 2023 年 7 月 29 日时间段12023 年 7 月 28 日时间段22023 年 7 月 27 日时间段3"},{"title":"IEEE 802.11 MAC特性","path":"/notes/wifi/ieee80211_mac_features.html","content":"Beacon Probe req&#x2F;Probe resp Auth req&#x2F;Auth resp Assoc req&#x2F;Assoc resp 加解密 WEP WPA WPA2 WPA3 WPA3 SAE OWE PMF DBDC MBO 11k 11v 11u 11r EASYMESH WPS DPP OFDMA UL-OFDMA DL-OFDMA TWT individual TWT broadcast TWT 峰值性能 大包性能 小包性能 88 128 Multi-band 多AP AP与STA共存"},{"path":"/notes/linux/index.html","content":"&#x2F;&#x2F; TODO"},{"title":"IEEE 802.11 协议名词解释","path":"/notes/wifi/ieee80211_glossary_and_definition.html","content":"note +HTC frame： 包含HT Control字段的帧, Control Wrapper frame 是一个 +HTC frame"},{"title":"便笺","path":"/notes/index.html","content":"文章项目便笺 TOC源码学习QEMU 相关问题802.11相关Wi-Fi 相关链接IEEE 802.11 MAC特性IEEE 802.11 协议名词解释RF 相关资料操作系统Linux 内核相关问题"},{"title":"RF 相关资料","path":"/notes/wifi/rf_related.html","content":"Direct Conversion (Zero-IF) Receiver Specifications of a Radio Receiver What is Error Vector Magnitude (EVM)? IQ Data Explained"},{"title":"QEMU 相关问题","path":"/notes/qemu/index.html","content":"&#x2F;&#x2F; TODO"},{"title":"wlan simu使用说明","path":"/wiki/wlan_simu/index.html","content":"wlan simu简介"},{"title":"Wi-Fi 相关链接","path":"/notes/wifi/index.html","content":"&#x2F;&#x2F; TODO IEEE 802.11 仿真软件 ns-3 Wifi Module matlab WLAN Toolbox GNU Radio - IEEE 802.11a&#x2F;g&#x2F;p – WiFi IEEE 802.11 开源软件 openwifi Android wifi WARP: Wireless Open Access Research Platform 802.11 MAC&#x2F;PHY Design gr-ieee802-11 MIMO basics for GNU Radio gr-dpd : Digital Pre-Distortion gr-dpd(github)"},{"title":"wlan simu 应用程序","path":"/wiki/wlan_simu/app_module.html","content":"hostapd下载编译安装运行wpa_supplicant下载编译安装运行"}]