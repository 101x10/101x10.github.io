[{"title":"IEEE 802.11 帧格式","path":"/2023/07/26/2023-07-26_80211_frame_format/","content":"基于协议第9章，详述帧格式 一般要求 STA需要支持本章节介绍的帧子集的收发， 对于特定的某些帧子集，在特定STA支持的功能时才需要支持这些特定帧子集的收发。 STA需要支持FCS校验， STA需要支持从所有帧的mac头中解析某些字段 STA只能使用本章节介绍的帧格式进行帧收发 MAC帧格式基本组成每个MAC帧都如下三部分组成： MAC头， 包括 frame control duration address optional sequence control information optional QoS Control information (QoS Data Frame才包含该字段) optional HT Control字段 (+HTC帧才包含该字段) 帧体， 长度可变， 包含特定于 帧 类型(type)和子类型(subtype)的信息 FCS, 包含基于 ITU-T Recommendation V.42的一个32-bit的CRC 通用MAC帧格式MAC帧格式包括一组在所有帧中以固定顺序出现的字段，下图描述了协议版本0（PV0）MPDU的通用MAC帧格式 对于每一PV0 MPDU，至少包含如下字段 Frame Control Duration&#x2F;ID Address 1 FCS 以下字段只存在某些PV0 MPDU帧中 Address 2 Address 3 Sequence Control Address 4 QoS Control HT Control and Frame Body 帧字段Frame Control字段该字段结构如下图所示","tags":["Wi-Fi","802.11","frame format"],"categories":["Wi-Fi"]},{"title":"IEEE 802.11 节能机制","path":"/2023/07/25/2023-07-25_80211_power_save/","content":"PSM U-APSDPSMPSMPS参考 802.11协议精读10：节能模式（PSM）","tags":["Wi-Fi","802.11","powersave"],"categories":["Wi-Fi"]},{"title":"IEEE 802.11 MAC层功能介绍","path":"/2023/07/24/2023-07-24_80211_mac_sublayer_function_description/","content":"概述 MAC子层架构（协议10.2&#x2F;10.3&#x2F;10.23&#x2F;10.24），包括 DCF HCF MCF 以及它们共存形式 分片和去分片（协议10.4&#x2F;10.5） 多速率支持（协议10.6） MSDU重排序或者丢弃处理的附加限制（协议10.7） 跨管制域操作（协议10.22） 块确认（BA）机制（协议10.25） No Ack机制（协议10.26） 保护机制（协议10.27） MAC帧处理规则（协议10.28） 本节介绍 MAC 子层架构 MAC 子层架构MAC 层架构如下图所示 对于non-DMG，non-CMMG和non-SIG STA： MAC通过使用DCF服务来提供HCF和MCF服务，MAC同时也提供直接访问DCF服务 HCF只存在QoS STA中 MCF只存在mesh STA中 note DMG: directional multi-gigabit的缩写，指工作的频率大于45GHz的操作，一般指80211ad协议定义的操作 non-DMG: 非DMG CMMG: China millimeter-wave multi-gigabit的缩写，指工作的频率在42.3GHz~47.3GHz范围或者47.2GHz~48.4GHz的操作 non-CMMG: 非CMMG S1G: Sub 1 GHz的缩写，指工作频率小于1GHz的操作 non-S1G: 非S1G 名词解释 MAC变量（MAC variables）：MAC维护的信息，存储在本地变量中，该变量被称之为MAC变量。 状态变量（State variables）：保存状态信息的MAC变量，称之为状态变量。 DCFDistribute Coordinate Function的缩写， 分布式协调功能。 MAC使用的基本接入方式是被称为载波监听&#x2F;冲突避免（CSMA&#x2F;CA）的DCF。 注意： 所有的STA都需要实现DCF功能 HCFHybrid Coordination Function的缩写，混合协调功能。 HCF仅在QoS网络中使用， 注意: 所有的QoS STA (除了mesh STA）都需要实现HCF功能 HCF通过结合DCF功能和一些增强的，特定于QoS机制，以允许使用统一的一套帧交换序列用于QoS STA数据传输。 HCF使用基于竞争的信道接入方式（称为增加分布式信道接入（EDCA）机制）进行先竞争空口然后数据传输。同时使用受控的信道接入（也称为HCF受控信道接入（HCCA)机制）进行免竞争数据传输。 STA可以通过EDCA或者HCCA方式获取到TXOP， 若STA通过EDCA竞争方式获取到的TXOP，称之为EDCA TXOP若是通过HCCA方式获取到的TXOP，称之为HCCA TXOP","tags":["wlan","Wi-Fi","802.11"],"categories":["Wi-Fi"]},{"title":"Wi-Fi芯片架构介绍","path":"/2023/07/23/2023-07-23_Wi-Fi_chip_arch_intro/","content":"Wi-Fi芯片架构介绍Wi-Fi芯片是基于 IEEE 802.11 协议实现的， 根据 802.11 协议内容，定义了网络协议栈中的MAC层和PHY层的功能， 因此Wi-Fi芯片也是分为MAC层和PHY层，以及MAC和PHY之间的接口。 Wi-Fi芯片的整体框图如下所示 MCU: 一般使用ARM Cortex-M或者Cortex-R CPU核，还有就是开源的RISC-V架构CPU核， 用来运行嵌入式Firmware软件。 TCM: Tightly Coupled Memory的缩写，低延时的memory， 又分 ITCM：存储代码段。 DTCM：存储数据段。 RAM: 软件运行所需要的存储空间。 MAC: 实现 IEEE 802.11 协议中定义的MAC层功能，MAC层功能有分为 软件实现部分， 硬件实现部分， 一般是对时序有严格要求（如SIFS时间内要回复ACK帧之类）特性，或者是降低软件操作的MIPS等（比如加解密&#x2F;AMPDU聚合等）需要通过硬件实现。 PHY: 主要实现编解码, 调制&#x2F;解调等功能。 ABB：模拟基带模块，分为如下两部分 ADC: 模数转换，把模拟基带信号转换为数字基带信号。 DAC: 数模转换，把数字基带信号转换为模拟基带信号。 RF: 射频模块，主要是完成基带信号与高频信号之间的转换。 电源单元：Wi-Fi芯片内部对各模块进行供电。 时钟单元：Wi-Fi芯片内部给各模块提供工作时钟。 总线：用于和主控CPU之间的数据传输通道和配置通道，常见的总线接口有 PCIe USB AXI SDIO 参考 TCM interfaces","tags":["wlan","Wi-Fi"],"categories":["Wi-Fi"]},{"title":"无线路由器框图介绍","path":"/2023/07/23/2023-07-23_wireless-router_arch_intro/","content":"当前家用无线路由器的典型框图如下图所示 无线路由器完成的主要功能： 下行：完成以太网口报文到无线报文的转发 上行：完成 Wi-Fi 无线报文到以太网有线报文的转发 为此，对于整个无线路由器涉及如下模块： 以太网芯片： 有线口数据收发 WLAN芯片：无线口数据收发 主控CPU：对外围芯片的控制，协议栈报文的处理和转发 内存：数据报文的缓存，软件运行使用等 晶振：提供时钟 电源模块：单板供电 以下重点对WLAN芯片进行介绍 WLAN: Wireless LAN的缩写， 无线局域网的意思， 目前主流的WLAN芯片是基于IEEE 802.11协议实现的。因此，狭义的WLAN芯片也就指基于IEEE 802.11协议的芯片。 同时， 对于基于IEEE 802.11协议实现的WLAN芯片， 需要进行Wi-Fi认证， Wi-Fi是Wi-Fi联盟的商标，因此有时也称WLAN芯片为Wi-Fi芯片。 总结一句话：WLAN芯片和Wi-Fi芯片，指的都是基于IEEE 802.11协议实现的无线局域网芯片，只是又多种叫法而已。 因此， 想要深入了解Wi-Fi芯片的工作原理，首先对IEEE 802.11协议需要有个深入地学习， 所有的Wi-Fi芯片的实现都要遵循IEEE 802.11协议，否则不同厂家的Wi-Fi之间的通信可能会存在兼容性问题。 IEEE 802.11协议简介 最新的协议是 IEEE 802.11be (Wi-Fi 7)，当前主流芯片是基于 IEEE 802.11ax (Wi-Fi 6)。 先理一下 IEEE 802.11 协议的发展， 从 1997 年开始发布的第一版802.11协议开始，到当前（2023年）的802.11be, 25年左右的时间中，IEEE 802.11工作组（WG)基于高吞吐、低延时、安全等方面提供了各种协议。 具体可以参考IEEE网站：https://www.ieee802.org/11/，其中11b&#x2F;g&#x2F;a&#x2F;n&#x2F;ac&#x2F;ax协议是主要的关键协议, 大概发布的时间以及主要特性功能点如下表所示 协议 发布时间 主要功能点 802.11 1997 第一版协议, 1M ~ 2M 速率 802.11 b 1999 支持 1M~11M 速率 802.11 a 1999 802.11 g 2003 802.11 n 2009 802.11 ac 2013 802.11 ax 2019 802.11 be 2024?","tags":["wlan"],"categories":["wlan"]},{"title":"Hello World","path":"/2023/07/23/hello-world/","content":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","tags":["Hexo"],"categories":["Hexo"]},{"title":"IEEE 802.11协议名词解释","path":"/notes/ieee80211_名词解释.html","content":"+HTC frame： 包含HT Control字段的帧 !!! note Control Wrapper frame 是一个 +HTC frame"},{"title":"wlan simu使用说明","path":"/wiki/wlan_simu/index.html","content":"wlan simu简介"},{"title":"wlan simu 应用程序","path":"/wiki/wlan_simu/app_module.html","content":"hostapd下载编译安装运行wpa_supplicant下载编译安装运行"}]